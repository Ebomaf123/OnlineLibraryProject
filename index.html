<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Ceci est l'entête : elle donne des instructions au navigateur, mais n'affiche rien sur la page. -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Programming Project: Library Management</title>
    <!-- On charge Tailwind CSS : c'est comme un "kit de construction rapide" pour rendre la page jolie. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Styles personnalisés pour la page */
        html { 
            font-family: 'Inter', sans-serif; /* On utilise une belle police de caractères */
            scroll-behavior: smooth; /* Pour que les liens de navigation glissent joliment */
        }
        /* Style spécial pour les blocs de code afin qu'ils soient faciles à lire */
        .code-block {
            background-color: #1f2937; 
            color: #f3f4f6; 
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.875rem;
        }
        .code-title {
            background-color: #374151;
            color: #d1d5db;
            padding: 0.5rem 1rem;
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- ➡️ SECTION 1 : Le HEADER (L'En-tête de la Page) -->
    <!-- C'est la barre de navigation qui reste en haut (sticky) -->
    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col md:flex-row justify-between items-center">
            <!-- Le titre principal -->
            <h1 class="text-2xl font-bold text-indigo-700 mb-2 md:mb-0">Online Library Management System</h1>
            <!-- Les liens de navigation pour sauter rapidement aux sections -->
            <nav class="space-x-2 sm:space-x-4">
                <a href="#architecture" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md font-medium transition duration-150">Architecture (Tâche 1)</a>
                <a href="#backend" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md font-medium transition duration-150">Backend (Tâche 2)</a>
                <a href="#frontend" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md font-medium transition duration-150">Frontend (Tâche 2)</a>
                <a href="#tests" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md font-medium transition duration-150">Tests & Qualité (Tâche 3)</a>
                <a href="#discussion" class="text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md font-medium transition duration-150">Analyse (Tâche 4)</a>
            </nav>
        </div>
    </header>

    <!-- ➡️ SECTION 2 : Le MAIN (Le Corps du Contenu) -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- Introduction et Objectifs -->
        <section class="mb-16 p-8 bg-white rounded-xl shadow-lg">
            <h2 class="text-4xl font-extrabold text-gray-900 mb-4">Project Overview and Goal (Python 3 Focus)</h2>
            <p class="text-lg text-gray-600 mb-6">This project implements a digital library management system using a modular **Python 3** architecture, separating the core business logic (Backend API) from the user interface (GUI Client).</p>
            <!-- Les badges montrent les outils utilisés -->
            <div class="flex flex-wrap gap-4">
                <span class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-full bg-indigo-100 text-indigo-800">Language: Python 3.10+</span>
                <span class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-full bg-green-100 text-green-800">Backend: Flask (REST API)</span>
                <span class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-full bg-blue-100 text-blue-800">Frontend: Tkinter (Python GUI)</span>
            </div>
        </section>

        <!-- Section 1: Architecture (Tâche 1) -->
        <!-- Chaque section a un ID (#architecture) pour être ciblée par les liens du HEADER -->
        <section id="architecture" class="mb-16 p-8 bg-white rounded-xl shadow-lg border-t-4 border-indigo-600">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">1. Architecture and Design (Task 1)</h2>
            <p class="text-gray-600 mb-8">The system follows a classic **Client-Server** model, utilizing HTTP and JSON for communication.</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                <!-- Visualisation des 3 composants -->
                <div class="bg-gray-100 p-6 rounded-lg shadow-inner">
                    <h3 class="text-xl font-semibold text-indigo-700 mb-3">Frontend Component</h3>
                    <p class="text-gray-600">**`frontend_app.py`** (Tkinter). GUI for user interaction via HTTP requests.</p>
                </div>
                <div class="bg-gray-100 p-6 rounded-lg shadow-inner">
                    <h3 class="text-xl font-semibold text-indigo-700 mb-3">Communication Layer</h3>
                    <p class="text-gray-600">**HTTP** protocol using **JSON** data exchange format. The client uses the Python `requests` library.</p>
                </div>
                <div class="bg-gray-100 p-6 rounded-lg shadow-inner">
                    <h3 class="text-xl font-semibold text-indigo-700 mb-3">Backend Component</h3>
                    <p class="text-gray-600">**`backend_server.py`** (Flask). Provides the RESTful API and uses `library_manager.py` for business logic.</p>
                </div>
            </div>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4 mt-8">Data Persistence</h3>
            <p class="text-gray-600">Metadata is stored in a Python dictionary structure and persisted in **`data/media_data.json`** file.</p>
        </section>

        <!-- Section 2: Backend (Tâche 2) -->
        <section id="backend" class="mb-16 p-8 bg-white rounded-xl shadow-lg border-t-4 border-green-600">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">2. The Backend: RESTful API (Flask)</h2>
            <p class="text-gray-600 mb-6">The Backend handles routing, validation, and ensures correct HTTP status codes are returned to the client.</p>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Key API Endpoints</h3>
            <!-- Affichage des routes et méthodes HTTP -->
            <div class="space-y-4 mb-8">
                <div class="flex items-center p-3 bg-green-50 rounded-lg border border-green-200">
                    <span class="font-bold text-sm bg-green-600 text-white px-3 py-1 rounded w-20 text-center">GET</span>
                    <code class="ml-4 font-mono text-green-700">/media</code>
                    <span class="ml-4 text-gray-600">Retrieves all media (HTTP 200).</span>
                </div>
                <div class="flex items-center p-3 bg-blue-50 rounded-lg border border-blue-200">
                    <span class="font-bold text-sm bg-blue-600 text-white px-3 py-1 rounded w-20 text-center">POST</span>
                    <code class="ml-4 font-mono text-blue-700">/media</code>
                    <span class="ml-4 text-gray-600">Creates new media (HTTP 201 Created).</span>
                </div>
                <div class="flex items-center p-3 bg-red-50 rounded-lg border border-red-200">
                    <span class="font-bold text-sm bg-red-600 text-white px-3 py-1 rounded w-20 text-center">DELETE</span>
                    <code class="ml-4 font-mono text-red-700">/media/&lt;id&gt;</code>
                    <span class="ml-4 text-gray-600">Deletes media (HTTP 204 No Content).</span>
                </div>
            </div>
            <!-- Code snippet pour montrer la bonne pratique de gestion des erreurs (400 Bad Request) -->
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Code Snippet: `backend_server.py` (Error Handling)</h3>
            <div class="code-title">Flask POST Route Validation (Task 1: Exception Handling)</div>
            <pre class="code-block"><code>
@app.route('/media', methods=['POST'])
def create_media():
    data = request.json
    try:
        # La logique métier valide les données
        new_media = manager.add_media(
            name=data['name'], 
            author=data['author'], 
            publication_date=data['publication_date'], 
            category=data['category']
        )
        return jsonify(new_media), 201 # Succès
    except ValueError as e:
        # Échec: si les données sont invalides, on retourne 400 Bad Request
        return jsonify({"error": str(e)}), 400
            </code></pre>
        </section>

        <!-- Section 3: Frontend (Tâche 2) -->
        <section id="frontend" class="mb-16 p-8 bg-white rounded-xl shadow-lg border-t-4 border-blue-600">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">3. The Frontend: Graphical Interface (`frontend_app.py`)</h2>
            <p class="text-gray-600 mb-6">The client is built using **Python's Tkinter** and relies exclusively on HTTP calls to communicate with the Backend API.</p>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Client-Server Communication Reliability</h3>
            <p class="text-gray-600">Crucial for user experience, the client handles connection errors and API status codes gracefully.</p>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Code Snippet: `frontend_app.py`</h3>
            <div class="code-title">Safe Request Handling (Client-Side Exception Management)</div>
            <pre class="code-block"><code>
# Ce code empêche le programme de planter si le serveur Flask est éteint.
def _safe_request(method, endpoint, **kwargs):
    try:
        response = requests.request(method, f"{{API_BASE_URL}}{{endpoint}}", **kwargs)
        
        # Gestion des erreurs renvoyées par l'API (4xx ou 5xx)
        if 400 <= response.status_code < 600: 
            messagebox.showerror("API Error", f"Request failed ({{response.status_code}})")
            return None
        return response
    except requests.exceptions.ConnectionError:
        # Gestion de l'erreur de connexion (Serveur non démarré)
        messagebox.showerror("Connection Error", "Cannot connect to the Flask server.")
        return None
            </code></pre>
        </section>

        <!-- Section 4: Tests et Qualité (Tâche 3) -->
        <section id="tests" class="mb-16 p-8 bg-white rounded-xl shadow-lg border-t-4 border-purple-600">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">4. Software Quality Assurance and Testing (Task 3)</h2>
            <p class="text-gray-600 mb-6">System reliability is ensured through both Unit Tests (logic) and Integration Tests (API). All tests use the standard `unittest` library.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="p-6 bg-purple-50 rounded-lg border border-purple-200">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">Unit Tests (`test_manager.py`)</h3>
                    <p class="text-gray-600">Focus on the isolated business logic of the `LibraryManager` class.</p>
                </div>
                <div class="p-6 bg-purple-50 rounded-lg border border-purple-200">
                    <h3 class="text-xl font-semibold text-purple-700 mb-3">API Integration Tests (`test_backend_api.py`)</h3>
                    <p class="text-gray-600">Focus on simulating HTTP calls to the Flask API to verify correct routing and status codes (201, 204, 400, 404).</p>
                </div>
            </div>
        </section>
        
        <!-- Section 5: Analyse et Discussion (Tâche 4) -->
        <section id="discussion" class="p-8 bg-white rounded-xl shadow-lg border-t-4 border-gray-600">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">5. Discussion and Future Development (Task 4)</h2>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Key Weakness: JSON Persistence</h3>
            <p class="text-gray-600 mb-4">The main drawback is relying on a **JSON file** for data persistence. This approach is highly vulnerable to data loss in a multi-client environment and severely limits scalability.</p>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Future Development Steps</h3>
            <ul class="list-disc list-inside space-y-2 text-gray-600">
                <li>**Database:** Migrate persistence to a robust SQL or NoSQL database.</li>
                <li>**Security:** Implement **JWT Authentication** to secure API endpoints.</li>
                <li>**Deployment:** Use **Docker** and a WSGI server (like Gunicorn) to containerize and deploy the application reliably.</li>
            </ul>
        </section>

    </main>

    <!-- ➡️ SECTION 3 : Le FOOTER (Le Pied de Page) -->
    <footer class="bg-gray-800 text-white mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm">
            Project by [SHARIF NIKIEMA 3119895] | Advanced Programming | December 2025
        </div>
    </footer>
    <!-- STATUT: V1.0 - La structure de la page d'accueil web statique est finalisée. -->
</body>
</html>